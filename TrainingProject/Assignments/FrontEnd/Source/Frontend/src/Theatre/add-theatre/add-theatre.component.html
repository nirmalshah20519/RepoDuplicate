<!-- <br><br><br><br><br><br><br><br><br> -->
<p class=" text-3xl mx-4 text-center">
    Add Theatre
</p>

<div class=" w-1/3 mx-auto">
    <form [formGroup]="theatreForm" class="w-full max-w-sm mx-auto">
        <div class="mb-4">
          <label for="name" class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ">Name:</label>
          <input formControlName="name" id="name" type="text" placeholder="Name"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
          <div *ngIf="theatreForm.get('name')?.invalid && (theatreForm.get('name')?.dirty || theatreForm.get('name')?.touched)"
            class="text-red-500 text-md mt-2">Name is required.</div>
        </div>
        <div class="mb-4">
            <label for="name" class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ">Street:</label>
            <input formControlName="street" id="name" type="text" placeholder="Street"
              class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
            <div *ngIf="theatreForm.get('street')?.invalid && (theatreForm.get('street')?.dirty || theatreForm.get('street')?.touched)"
              class="text-red-500 text-md mt-2">Street is required.</div>
          </div>
        <div class="mb-4">
          <label for="city" class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ">City:</label>
          <input formControlName="city" id="city" type="text" placeholder="City"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
          <div *ngIf="theatreForm.get('city')?.invalid && (theatreForm.get('city')?.dirty || theatreForm.get('city')?.touched)"
            class="text-red-500 text-md mt-2">City is required.</div>
        </div>
        <div class="mb-4">
          <label for="state" class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ">State:</label>
          <input formControlName="state" id="state" type="text" placeholder="State"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
          <div *ngIf="theatreForm.get('state')?.invalid && (theatreForm.get('state')?.dirty || theatreForm.get('state')?.touched)"
            class="text-red-500 text-md mt-2">State is required.</div>
        </div>
        <div class="mb-4">
          <label for="country" class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ">Country:</label>
          <input formControlName="country" id="country" type="text" placeholder="Country"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
          <div *ngIf="theatreForm.get('country')?.invalid && (theatreForm.get('country')?.dirty || theatreForm.get('country')?.touched)"
            class="text-red-500 text-md mt-2">Country is required.</div>
        </div>
        <div class="mb-4">
          <label for="minprice" class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ">Minimum Ticket Price:</label>
          <input formControlName="minprice" id="country" type="number" placeholder="Minimum Ticket Price"
            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
          <div *ngIf="theatreForm.get('minprice')?.invalid && (theatreForm.get('minprice')?.dirty || theatreForm.get('minprice')?.touched)"
            class="text-red-500 text-md mt-2">
            <div *ngIf="theatreForm.get('minprice')?.errors?.['required']"
            class="text-red-500 text-md mt-2">            
            Minimum Ticket Price is required.</div>
            <div *ngIf="theatreForm.get('minprice')?.errors?.['min']"
            class="text-red-500 text-md mt-2">            
            Minimum Ticket Price should be 50.</div>
          </div>
        </div>
        <div class="mb-4">
           
          </div>
        
      </form>


      <div class="w-full max-w-sm mx-auto">
        <div class=" mb-2 md:mb-0">
          <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 " for="grid-first-name">
            Theatre Facility
          </label>
          <div class=" flex gap-4">
            <div class="flex-grow relative">
              <select [(ngModel)]="currFid" class="block appearance-none w-full bg-gray-200 border border-gray-300 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">
                <option disabled selected value="-1">Select Facility</option>
                <ng-container *ngFor="let f of facilities">
                  <option *ngIf="fac.includes(f.id)" [value]="f.id">{{f.name}}</option>
                </ng-container>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
              </div>
            
            </div>
            <button (click)="onAddFac()" class=" block bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
              Add
            </button>
          </div>
  
        </div>        
      </div>
      <div class="w-full max-w-sm mx-auto py-4">
        <div class=" flex">
          <ng-container *ngFor="let f of facPost">
            <div>
              <span class=" bg-red-200 p-2 rounded-md me-2">
                {{getFacById(f)!.name}}
                <img (click)="removeFac(f)" src="https://cdn-icons-png.flaticon.com/512/2997/2997911.png" class=" inline hover:scale-110" alt="cross" width="8px">
              </span>
            </div>
          </ng-container>
        </div>
      </div>

      <div class="flex items-center justify-between w-full max-w-sm mx-auto">
        <button
        [disabled]="theatreForm.invalid || facPost.length===0"
        (click)="onSubmit()"
          class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:bg-opacity-50 disabled:hover:bg-blue-500 disabled:hover:bg-opacity-50">
          Submit
        </button>
      </div>



<!-- <br><br><br>
      <input type="text" [(ngModel)]="facName" placeholder="Name">
      <br>
      <br>
      <input type="file" (change)="onSelected($event)">
      <br>

      <input type="button" value="Add" (click)="onSubmit()">
      
</div>

<div>
    <ng-container *ngFor="let f of facilities">
        <p>{{f.id}}</p>
        <p>{{f.name}}</p>
        <img [src]="f.url" alt="" class="w-8 h-8">
    </ng-container>
</div> -->

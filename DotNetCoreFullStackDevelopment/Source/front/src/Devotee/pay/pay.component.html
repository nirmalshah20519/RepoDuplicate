<div class=" container">
    <div *ngIf="successFlag" style="height: 200px;">
        
    </div>
    <p *ngIf="successFlag" class="text-center  ">
        <span class="text-bg-success p-2 py-3">Payment Successful</span>
        
    </p>
    <div *ngIf="!successFlag" class=" mx-auto w-25 mt-5 border border-2 border-success p-2">
        <p class=" display-1 text-bg-success p-2 text-center">
            Donate
        </p>
        <div class="mb-3 ">
            <label for="" class="form-label">Month</label>
            <select [disabled]="otpflag" [(ngModel)]="month" class=" form-select">
                <option value="" disabled selected>Select Month</option>
                <ng-container *ngFor="let item of months">
                    <option [value]="item">{{item|month}}</option>
                </ng-container>
              </select>
        </div>
        <div class="mb-3 ">
            <label for="" class="form-label">Year</label>

              <select [disabled]="otpflag" [(ngModel)]="year" class=" form-select">
                <option value="" disabled selected>Select Year</option>
                <ng-container *ngFor="let item of years">
                    <option [value]="item">{{item}}</option>
                </ng-container>
              </select>
        </div>
        <div class="mb-3 ">
            <label for="" class="form-label">Amount</label>
            <input [disabled]="otpflag" type="number"  [(ngModel)]="amount"
              class="form-control" aria-describedby="helpId" placeholder="">
        </div>
        <div *ngIf="otpflag"  class="mb-3 ">
            <label for="" class="form-label text-primary fw-bold">OTP</label>
            <input type="number"  [(ngModel)]="otp"
              class="form-control" aria-describedby="helpId" placeholder="">
        </div>
        <div class=" d-flex justify-content-end">

            <button *ngIf="!otpflag" type="submit" class="btn btn-outline-success" (click)="getOTP()">Get OTP</button>
            <button *ngIf="otpflag" type="submit" class="btn btn-success" (click)="onPay()">Confirm and Pay</button>
        </div>
    </div>

    <p class=" h1 text-center"> History</p>
    
    <div class="table-responsive">
        <table class="table table-light">
            <thead>
                <tr>
                    <th scope="col">Month</th>
                    <th scope="col">Year</th>
                    <th scope="col">Amount</th>
                </tr>
            </thead>
            <tbody *ngFor="let item of data.payments">
                <tr class="">
                    <td>{{item.month|month}}</td>
                    <td>{{item.year}}</td>
                    <td [ngClass]="{'bg-success text-white':item.total>1000}">{{item.total | currency:'INR'}}</td>
                </tr>
                
            </tbody>
        </table>
    </div>
    

</div>
